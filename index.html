<!DOCTYPE html>
<html lang="no">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Nyhetsartikkel ‚Äì Scrollytelling-mal</title>

  <!-- SEO / deling -->
  <meta name="description" content="En moderne, rask og tilgjengelig mal for nyhetsartikkel med scrollytelling i ren HTML, CSS og JavaScript." />
  <meta property="og:title" content="Nyhetsartikkel ‚Äì Scrollytelling-mal" />
  <meta property="og:description" content="Moderne nyhetsoppsett med innholdsfortegnelse, leseprogresjon, m√∏rk/lys-modus og seksjonsmarkering." />
  <meta property="og:type" content="article" />
  <meta property="og:image" content="" />
  <meta name="theme-color" content="#0b0f1a" />

  <style>
    :root {
      --bg: #0b0f1a;
      --ink: #e9eefc;
      --muted: #a9b4d0;
      --card: #101729;
      --accent: #70ffbf;
      --accent-2: #7cc3ff;
      --danger: #ff8a8a;
      --grid: #1a2236;
      --maxw: min(1080px, 92vw);
      --radius: 16px;
    }

    @media (prefers-color-scheme: light) {
      :root { --bg: #fbfcff; --ink: #0e1528; --muted:#475569; --card:#ffffff; --grid:#e8edf7; }
    }

    * { box-sizing: border-box }
    html, body { height: 100% }
    body {
      margin: 0;
      font: 16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, Inter, "Noto Sans", Arial, sans-serif;
      color: var(--ink);
      background: radial-gradient(1200px 400px at 50% -120px, rgba(112,255,191,.12), transparent 60%), var(--bg);
      letter-spacing: .01em;
    }

    /* Header */
    header.site {
      position: sticky; top: 0; z-index: 40;
      backdrop-filter: saturate(1.2) blur(10px);
      background: color-mix(in oklab, var(--bg) 85%, transparent);
      border-bottom: 1px solid var(--grid);
    }
    .site__inner { max-width: var(--maxw); margin: 0 auto; display: grid; grid-template-columns: 1fr auto; gap: 12px; align-items: center; padding: 10px 16px; }
    .brand { display: flex; align-items: center; gap: 10px; font-weight: 700; letter-spacing:.02em }
    .brand__logo { inline-size: 28px; block-size: 28px; border-radius: 7px; background: linear-gradient(135deg, var(--accent), var(--accent-2)); display:inline-grid; place-items:center; color:#0b0f1a; font-weight:800 }
    nav.actions { display:flex; gap:8px; align-items:center }
    .btn { border:1px solid var(--grid); background:var(--card); color:var(--ink); padding:8px 12px; border-radius:12px; cursor:pointer; transition: .2s transform, .2s background; }
    .btn:hover{ transform: translateY(-1px); background: color-mix(in oklab, var(--card), var(--grid) 8%); }

    /* Progress bar */
    .progress { position: fixed; inset: 0 0 auto 0; height: 3px; background: linear-gradient(90deg, var(--accent), var(--accent-2)); transform-origin: 0 50%; transform: scaleX(0); z-index: 50; }

    /* Layout */
    main { max-width: var(--maxw); margin: 24px auto; display: grid; grid-template-columns: 250px 1fr; gap: 24px; }
    @media (max-width: 900px){ main { grid-template-columns: 1fr } }

    /* TOC */
    aside.toc { position: sticky; top: 62px; align-self: start; border:1px solid var(--grid); background:var(--card); border-radius: var(--radius); padding: 14px; display: grid; gap: 10px; }
    .toc h3 { margin: 0 0 6px 0; font-size: 13px; text-transform: uppercase; letter-spacing: .08em; color: var(--muted) }
    .toc a { display: block; padding: 6px 8px; border-radius: 10px; color: var(--ink); text-decoration: none; border:1px solid transparent }
    .toc a.active { border-color: var(--accent); background: color-mix(in oklab, var(--accent) 14%, transparent); }

    /* Article */
    article { border: 1px solid var(--grid); background: var(--card); border-radius: var(--radius); overflow: clip; }
    .hero { padding: clamp(16px, 3vw, 28px); display:grid; gap: 14px; background: linear-gradient(180deg, color-mix(in oklab, var(--card), #000 10%), var(--card)); border-bottom:1px solid var(--grid) }
    .kicker { color: var(--muted); text-transform: uppercase; letter-spacing: .12em; font-weight: 700; font-size: 12px }
    h1.title { margin: 0; font-size: clamp(28px, 4.4vw, 46px); line-height: 1.15; }
    .meta { display:flex; flex-wrap:wrap; gap: 10px 16px; color: var(--muted) }
    .hero .tools { display: flex; gap: 8px; margin-top: 6px }

    .media { aspect-ratio: 16/9; background: #050814; display:grid; place-items:center; color: var(--muted); border-radius: 12px; border:1px solid var(--grid) }
    .media img, .media video { width: 100%; height: 100%; object-fit: cover; border-radius: 12px }

    .section { padding: clamp(16px, 3vw, 28px); display:grid; gap: 14px; border-top: 1px solid var(--grid) }
    .section h2 { margin: 0; font-size: clamp(22px, 3vw, 30px) }
    .section p { margin: 0 }

    .pullquote { font-size: clamp(18px, 2.6vw, 22px); line-height: 1.4; border-inline-start: 4px solid var(--accent); padding-inline: 14px; color: var(--ink); }

    .factbox { border:1px solid var(--grid); background: color-mix(in oklab, var(--card), var(--grid) 6%); border-radius:12px; padding:12px; }
    .factbox h4 { margin:0 0 6px 0; font-size: 14px; text-transform: uppercase; letter-spacing:.08em; color: var(--muted) }

    footer.site { max-width: var(--maxw); margin: 20px auto 60px; border:1px solid var(--grid); border-radius: var(--radius); background: var(--card); padding: 16px; color: var(--muted) }

    /* Smooth anchor scroll */
    html { scroll-behavior: smooth }

    /* Hidden until revealed */
    [data-reveal] { opacity: 0; transform: translateY(8px); transition: .5s opacity, .5s transform; }
    [data-reveal].seen { opacity: 1; transform: none }
  </style>
</head>
<body>
  <div class="progress" id="progress"></div>

  <header class="site" role="banner">
    <div class="site__inner">
      <div class="brand" aria-label="Forside">
        <div class="brand__logo" aria-hidden="true">A</div>
        <span>Aktuelt</span>
      </div>
      <nav class="actions" aria-label="Verkt√∏y">
        <button class="btn" id="themeToggle" aria-pressed="false" aria-label="Bytt tema">üåì Tema</button>
        <button class="btn" id="shareBtn" aria-label="Del artikkelen">üîó Del</button>
        <button class="btn" id="printBtn" aria-label="Skriv ut">üñ®Ô∏è Skriv ut</button>
      </nav>
    </div>
  </header>

  <main>
    <!-- Innholdsfortegnelse / TOC -->
    <aside class="toc" aria-label="Innholdsfortegnelse">
      <h3>Innhold</h3>
      <nav id="tocNav"></nav>
    </aside>

    <!-- Artikkel -->
    <article id="article" role="article" aria-labelledby="title">
      <section class="hero">
        <div class="kicker">Nyheter ‚Ä¢ Analyse</div>
        <h1 id="title" class="title">Slik bygger du en moderne nyhetsartikkel med scrollytelling</h1>
        <div class="meta">
          <span>Av <strong>Redaksjonen</strong></span>
          <span>Oppdatert <time id="updated"></time></span>
          <span id="readtime" aria-label="Estimert lesetid"></span>
        </div>
        <div class="media" data-reveal>
          <!-- Bytt ut kilde under -->
          <img loading="lazy" src="https://images.unsplash.com/photo-1504711434969-e33886168f5c?q=80&w=1600&auto=format&fit=crop" alt="Illustrasjonsbilde av avissider" />
        </div>
        <div class="hero__dek" data-reveal>
          Denne malen er laget i ren HTML, CSS og JavaScript ‚Äì uten rammeverk ‚Äì og gir deg innholdsfortegnelse som f√∏lger med, leseprogresjon, m√∏rk/lys-modus og automatisk markering av aktiv seksjon.
        </div>
        <div class="tools" data-reveal>
          <button class="btn" data-scroll-to="#del-1">Hopp til Del 1</button>
          <button class="btn" data-scroll-to="#del-2">Hopp til Del 2</button>
        </div>
      </section>

      <section id="del-1" class="section" data-title="Bakgrunn" data-reveal>
        <h2>Bakgrunn</h2>
        <p>
          Scrollytelling kombinerer tekst, grafikk og interaksjon. Leserens posisjon i artikkelen brukes til √• fremheve deler av innholdet og gi mer kontekst. Her f√•r du en startklar struktur som er enkel √• bygge videre p√•.
        </p>
        <blockquote class="pullquote">‚ÄúGod historiefortelling handler om rytme ‚Äì gi leseren pauser, h√∏ydepunkter og oversikt.‚Äù</blockquote>
      </section>

      <section id="del-2" class="section" data-title="Data og grafikk" data-reveal>
        <h2>Data og grafikk</h2>
        <p>
          Legg inn bilder, video eller sm√• grafer. Du kan erstatte dette avsnittet med en <code>&lt;video muted autoplay loop playsinline&gt;</code> eller en enkel canvas-graf.
        </p>
        <div class="factbox">
          <h4>Fakta</h4>
          <ul>
            <li>Rask og tilgjengelig ‚Äì uten eksterne biblioteker</li>
            <li>Automatisk innholdsfortegnelse fra overskrifter</li>
            <li>Markering av aktiv seksjon med <code>IntersectionObserver</code></li>
          </ul>
        </div>
      </section>

      <section id="del-3" class="section" data-title="Metode" data-reveal>
        <h2>Metode</h2>
        <p>
          Hver <em>section</em> i artikkelen registreres i en observat√∏r. N√•r den er mest synlig, markeres lenken i menyen. Progresjonslinjen p√• toppen regner ut hvor langt du har scrollet i artikkelen.
        </p>
      </section>

      <section id="del-4" class="section" data-title="Slik bruker du malen" data-reveal>
        <h2>Slik bruker du malen</h2>
        <ol>
          <li>Bytt ut tittel, ingress og seksjoner.</li>
          <li>Legg inn dine bilder/videoer. Angi <code>alt</code>-tekst for universell utforming.</li>
          <li>Gi hver seksjon et meningsfullt <code>id</code> og <code>data-title</code> ‚Äì det bygger menyen.</li>
          <li>Valgfritt: legg inn <code>script type="application/ld+json"</code> for rik-oppf√∏ring i s√∏k.</li>
        </ol>
      </section>

      <section id="del-5" class="section" data-title="Oppsummering" data-reveal>
        <h2>Oppsummering</h2>
        <p>
          Dette er en enkel, produksjonsklar base. Utvid med kommentar‚Äëfelt, relaterte saker, abonnementsbanner eller innlimte interaktive visualiseringer etter behov.
        </p>
      </section>
    </article>
  </main>

  <footer class="site" role="contentinfo">
    ¬© <span id="year"></span> Aktuelt. Laget med ren HTML, CSS og JavaScript.
  </footer>

  <!-- Strukturert data (oppdater verdier n√•r du publiserer) -->
  <script type="application/ld+json" id="ldjson">
  {
    "@context": "https://schema.org",
    "@type": "NewsArticle",
    "headline": "Slik bygger du en moderne nyhetsartikkel med scrollytelling",
    "datePublished": "2025-11-08T12:00:00+01:00",
    "dateModified": "2025-11-08T12:00:00+01:00",
    "author": {"@type": "Person", "name": "Redaksjonen"},
    "publisher": {"@type": "Organization", "name": "Aktuelt"}
  }
  </script>

  <script>
    // --- Sm√• hjelpefunksjoner
    const $ = (sel, root=document) => root.querySelector(sel);
    const $$ = (sel, root=document) => [...root.querySelectorAll(sel)];

    // --- Dato/√•r og lesetid
    const wordsPerMinute = 220;
    const articleText = $('#article').innerText.trim();
    const wordCount = articleText.split(/\s+/).length;
    const minutes = Math.max(1, Math.round(wordCount / wordsPerMinute));
    $('#readtime').textContent = `${minutes} min lesetid`;
    const now = new Date();
    $('#updated').textContent = now.toLocaleDateString('no-NO', { year:'numeric', month:'long', day:'numeric' });
    $('#year').textContent = now.getFullYear();

    // --- Tema (m√∏rk/lys) ‚Äì toggles med data-theme p√• html
    const themeToggle = $('#themeToggle');
    themeToggle.addEventListener('click', () => {
      const isDark = document.documentElement.dataset.theme !== 'light';
      document.documentElement.dataset.theme = isDark ? 'light' : 'dark';
      themeToggle.setAttribute('aria-pressed', (!isDark).toString());
    });

    // --- Deling
    $('#shareBtn').addEventListener('click', async () => {
      try {
        const data = { title: document.title, text: $('#title').textContent, url: location.href };
        if (navigator.share) await navigator.share(data); else await navigator.clipboard.writeText(data.url);
        alert('Lenke delt/kopiert.');
      } catch (e) { console.error(e); }
    });

    // --- Print
    $('#printBtn').addEventListener('click', () => window.print());

    // --- Innholdsfortegnelse auto-build
    const tocNav = $('#tocNav');
    const sections = $$('.section');
    const frag = document.createDocumentFragment();
    sections.forEach(sec => {
      const id = sec.id;
      const title = sec.dataset.title || sec.querySelector('h2')?.textContent || id;
      const a = document.createElement('a');
      a.href = `#${id}`; a.textContent = title; a.dataset.target = id;
      frag.appendChild(a);
    });
    tocNav.appendChild(frag);

    // --- Scroll til knapper i hero
    $$('[data-scroll-to]').forEach(btn => btn.addEventListener('click', e => {
      const sel = btn.getAttribute('data-scroll-to');
      const el = $(sel);
      if (el) el.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }));

    // --- Mark√©r aktiv seksjon i TOC
    const links = $$('#tocNav a');
    const linkById = Object.fromEntries(links.map(a => [a.dataset.target, a]));
    const io = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          links.forEach(l => l.classList.remove('active'));
          const id = entry.target.id;
          linkById[id]?.classList.add('active');
          history.replaceState(null, '', `#${id}`);
        }
      });
    }, { rootMargin: '-35% 0px -55% 0px', threshold: 0.01 });
    sections.forEach(s => io.observe(s));

    // --- Leseprogresjon
    const progress = $('#progress');
    const onScroll = () => {
      const el = $('#article');
      const rect = el.getBoundingClientRect();
      const total = el.scrollHeight - window.innerHeight;
      const scrolled = Math.min(Math.max(window.scrollY - el.offsetTop, 0), total);
      const ratio = total > 0 ? scrolled / total : 0;
      progress.style.transform = `scaleX(${ratio})`;
    };
    document.addEventListener('scroll', onScroll, { passive: true });
    onScroll();

    // --- Reveal animasjoner
    const revealIO = new IntersectionObserver(entries => {
      entries.forEach(e => { if (e.isIntersecting) e.target.classList.add('seen') });
    }, { threshold: 0.1 });
    $$('[data-reveal]').forEach(el => revealIO.observe(el));

    // --- Tilgjengelighet: fokus-stil ved tastatur
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Tab') document.body.classList.add('show-focus');
    }, { once: true });
  </script>
</body>
</html>